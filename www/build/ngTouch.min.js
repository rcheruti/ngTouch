"use strict";function nodeName_(a){return angular.lowercase(a.nodeName||a[0]&&a[0].nodeName)}function makeSwipeDirective(a,b,c){ngTouch.directive(a,["$parse","$swipe",function(d,e){var f=75,g=.3,h=30;return function(i,j,k){function l(a){if(!m)return!1;var c=Math.abs(a.y-m.y),d=(a.x-m.x)*b;return n&&f>c&&d>0&&d>h&&g>c/d}var m,n,o=d(k[a]),p=["touch"];angular.isDefined(k.ngSwipeDisableMouse)||p.push("mouse"),e.bind(j,{start:function(a,b){m=a,n=!0},cancel:function(a){n=!1},end:function(a,b){l(a)&&i.$apply(function(){j.triggerHandler(c),o(i,{$event:b})})}},p)}}])}var ngTouch=angular.module("ngTouch",[]);ngTouch.provider("$swipe",[function(){function a(a){return a=a.originalEvent||a,a=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],a[0]}function b(b){var c=a(b);return{x:c.clientX,y:c.clientY}}function c(){var a=this;a[j]=null,a[k]=null,a[d]=E[d],a[e]=E[e],a[f]=E[f],a[g]=E[g],a[h]=E[h],a[i]=E[i],a[l]=!1,a[m]=null,a[n]=null,a[o]=null,a[p]=null,a[q]=!1,a[r]=!1,a[s]=0,a[t]=0,a[u]=0,a[v]=0,a[w]=0,a[x]=null,a[y]=null}var d="tapDuration",e="moveTolerance",f="preventDuration",g="moveBufferRadius",h="preventMouseFromTouch",i="preventMoveFromDrag",j="element",k="eventHandlers",l="hasTouchEvents",m="lastStartEvent",n="lastMoveEvent",o="lastEndEvent",p="lastCancelEvent",q="tapping",r="dragging",s="startTime",t="touchStartX",u="touchStartY",v="totalX",w="totalY",x="startCoords",y="lastPos",z="resetState",A="handleStart",B="handleEnd",C="handleCancel",D="handleMove",E=this;E[d]=750,E[e]=12,E[f]=2500,E[g]=10,E[h]=!0,E[i]=!0;var F="ng-click-active",G=c.prototype;G[z]=function(){this[q]=!1,this[r]=!1,this[j].removeClass(F)},G[A]=function(c){var d=this;d[m]=c,d[q]=!0,d[j].addClass(F),d[s]=Date.now();var e=a(c);d[t]=e.clientX,d[u]=e.clientY,d[r]=!0,d[v]=0,d[w]=0,d[y]=d[x]=b(e),d[k].start&&d[k].start(d[x],c)},G[D]=function(a){var c=this,d=b(a);if(c[r]){if(c[v]+=Math.abs(d.x-c[y].x),c[w]+=Math.abs(d.y-c[y].y),c[y]=d,c[v]<c[g]&&c[w]<c[g])return;c[w]>c[v]?c[C](a):(a.preventDefault(),c[k].drag&&c[k].drag(d,a))}c[i]&&c[r]||c[k].move&&c[k].move(d,a)},G[B]=function(c){var f=this;f[o]=c;var g=Date.now()-f[s],h=a(c),i=h.clientX,j=h.clientY,l=Math.sqrt(Math.pow(i-f[t],2)+Math.pow(j-f[u],2)),m=b(h);f[q]&&g<f[d]&&l<f[e]&&f[k].tap&&f[k].tap(m,c),f[k].end&&f[k].end(m,c),f[z]()},G[C]=function(a){var b=this;b[p]=a,b[k].cancel&&b[k].cancel(a),b[z]()},this.$get=[function(){function c(c,j,k){function l(){K=!1,L=!1,c.removeClass(F)}function m(d){G=d,K=!0,c.addClass(F),q=Date.now();var e=a(d);r=e.clientX,s=e.clientY,L=!0,t=0,u=0,w=v=b(e),j.start&&j.start(v,d)}function n(a){var c=b(a);if(L){if(t+=Math.abs(c.x-w.x),u+=Math.abs(c.y-w.y),w=c,A>t&&A>u)return;u>t?p(a):(a.preventDefault(),j.drag&&j.drag(c,a))}C&&L||j.move&&j.move(c,a)}function o(c){I=c;var d=Date.now()-q,e=a(c),f=e.clientX,g=e.clientY,h=Math.sqrt(Math.pow(f-r,2)+Math.pow(g-s,2)),i=b(e);K&&x>d&&y>h&&j.tap&&j.tap(i,c),j.end&&j.end(i,c),l()}function p(a){J=a,j.cancel&&j.cancel(a),l()}k||(k={});var q,r,s,t,u,v,w,x=k[d]||E[d],y=k[e]||E[e],z=k[f]||E[f],A=k[g]||E[g],B=k[h]||E[h],C=k[i]||E[i],D=!1,G=null,H=null,I=null,J=null,K=!1,L=!1;c.on("touchstart",function(a){D=!0,m(a)}),c.on("touchmove",function(a){D=!0,n(a)}),c.on("touchend",function(a){D=!0,o(a)}),c.on("touchcancel",function(a){D=!0,p(a)}),c.on("mousedown",function(a){return B&&D&&G&&a.timeStamp-G.timeStamp<z?(a.preventDefault(),void a.stopPropagation()):void m(a)}),c.on("mousemove",function(a){if(B&&D)if(H){if(H&&a.timeStamp-H.timeStamp<z)return a.preventDefault(),void a.stopPropagation()}else{var c=b(I),d=b(a);if(c.x===d.x&&c.y===d.y)return a.preventDefault(),void a.stopPropagation()}n(a)}),c.on("mouseup",function(a){return B&&D&&I&&a.timeStamp-I.timeStamp<z?(a.preventDefault(),void a.stopPropagation()):void o(a)})}function j(){}return{bind:c,on:c,off:j}}]}]),ngTouch.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),ngTouch.directive("ngClick",["$parse","$swipe",function(a,b){return function(c,d,e){var f=a(e.ngClick);b.bind(d,{tap:function(a,b){c.$apply(function(){f(c,{$event:b})})}})}}]),makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight");