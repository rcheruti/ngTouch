"use strict";function nodeName_(a){return angular.lowercase(a.nodeName||a[0]&&a[0].nodeName)}function makeSwipeDirective(a,b,c){ngTouch.directive(a,["$parse","$swipe",function(d,e){var f=75,g=.3,h=30;return function(i,j,k){function l(a){if(!m)return!1;var c=Math.abs(a.y-m.y),d=(a.x-m.x)*b;return n&&f>c&&d>0&&d>h&&g>c/d}var m,n,o=d(k[a]),p=["touch"];angular.isDefined(k.ngSwipeDisableMouse)||p.push("mouse"),e.bind(j,{start:function(a,b){m=a,n=!0},cancel:function(a){n=!1},end:function(a,b){l(a)&&i.$apply(function(){j.triggerHandler(c),o(i,{$event:b})})}},p)}}])}var ngTouch=angular.module("ngTouch",[]);ngTouch.provider("$swipe",[function(){function a(a){return a=a.originalEvent||a,a=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],a[0]}function b(b){var c=a(b);return{x:c.clientX,y:c.clientY}}function c(a,b){for(var c=a[m],d=0;d<b.length;d++)if(b[d]in c)return!0;return!1}function d(a,b,c){var d=a[m][b];d&&(a[G]?a[G].$apply(function(){d.apply(a,c)}):d.apply(a,c))}function e(a){var b=this;a instanceof Object||(a={}),b[l]=a[l],b[m]=a[m],b[f]=a[f]||H[f],b[g]=a[g]||H[g],b[h]=a[h]||H[h],b[i]=a[i]||H[i],b[j]=a[j]||H[j],b[k]=a[k]||H[k],b[G]=a[G],b[n]=!1,b[o]=null,b[p]=null,b[q]=null,b[r]=null,b[s]=!1,b[t]=!1,b[u]=0,b[v]=0,b[w]=0,b[x]=0,b[y]=0,b[z]=null,b[A]=null}var f="tapDuration",g="moveTolerance",h="preventDuration",i="moveBufferRadius",j="preventMouseFromTouch",k="preventMoveFromDrag",l="element",m="eventHandlers",n="hasTouchEvents",o="lastStartEvent",p="lastMoveEvent",q="lastEndEvent",r="lastCancelEvent",s="tapping",t="dragging",u="startTime",v="touchStartX",w="touchStartY",x="totalX",y="totalY",z="startCoords",A="lastPos",B="resetState",C="handleStart",D="handleEnd",E="handleCancel",F="handleMove",G="$scope",H=this;H[f]=750,H[g]=12,H[h]=2500,H[i]=10,H[j]=!0,H[k]=!0;var I="ng-click-active",J=e.prototype;J[B]=function(){this[s]=!1,this[t]=!1,this[l].removeClass(I)},J[C]=function(c){var e=this;e[o]=c,e[s]=!0,e[l].addClass(I),e[u]=Date.now();var f=a(c);e[v]=f.clientX,e[w]=f.clientY,e[t]=!0,e[x]=0,e[y]=0,e[A]=e[z]=b(f),d(e,"start",[e[z],c])},J[F]=function(a){var c=this,e=b(a);if(c[t]){if(c[x]+=Math.abs(e.x-c[A].x),c[y]+=Math.abs(e.y-c[A].y),c[A]=e,c[x]<c[i]&&c[y]<c[i])return;c[y]>c[x]?c[E](a):(a.preventDefault(),d(c,"drag",[e,a]))}c[k]&&c[t]||d(c,"move",[e,a])},J[D]=function(c){var e=this;e[q]=c;var h=Date.now()-e[u],i=a(c),j=i.clientX,k=i.clientY,l=Math.sqrt(Math.pow(j-e[v],2)+Math.pow(k-e[w],2)),m=b(i);e[s]&&h<e[f]&&l<e[g]&&d(e,"tap",[m,c]),d(e,"end",[m,c]),e[B]()},J[E]=function(a){var b=this;b[r]=a,d(b,"cancel",[a]),b[B]()},this.$get=["$rootElement","$timeout",function(a,d){function f(a){function b(){for(var b=0;b<s.length;b++)if(s[b]===a){s.splice(b,1);break}}n&&a[j]&&(s.push(a),d(b,a[h]))}function g(a){for(var c=null,d=!1,e=null,f=0;f<s.length;f++){c=s[f];for(var g=0;g<t.length;g++)if(e=c[t[g]]){var h=b(a),i=b(e);if(i.x===h.x&&i.y===h.y){a.preventDefault(),a.stopPropagation(),d=!0;break}}if(d)break}}function i(a,b,d){function g(a){f(q),q[C](a)}function h(a){f(q),q[F](a)}function i(a){f(q),q[D](a)}function j(a){f(q),q[E](a)}function n(a){q[C](a)}function o(a){q[F](a)}function p(a){q[D](a)}d instanceof Object||(d={}),d[l]=a,d[m]=b;var q=new e(d);return c(q,["start","tap","drag"])&&a.on("touchstart",g),c(q,["drag"])&&a.on("touchmove",h),c(q,["end","tap","drag"])&&a.on("touchend",i),c(q,["cancel"])&&a.on("touchcancel",j),c(q,["start","tap","drag"])&&a.on("mousedown",n),c(q,["move","drag"])&&a.on("mousemove",o),c(q,["end","tap","drag"])&&a.on("mouseup",p),q[G]&&q[G].$on("$destroy",function(){k()}),q}function k(){}var n=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);console.log("_hasTouch",n);var s=[],t=[o,p,q,r],u=a[0];return n&&(u.addEventListener("mousedown",g,!0),u.addEventListener("mouseup",g,!0),u.addEventListener("click",g,!0)),{bind:i,on:i,off:k}}]}]),ngTouch.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),ngTouch.directive("ngClick",["$parse","$swipe",function(a,b){return function(c,d,e){var f=a(e.ngClick);b.bind(d,{tap:function(a,b){c.$apply(function(){f(c,{$event:b})})}})}}]),makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight");