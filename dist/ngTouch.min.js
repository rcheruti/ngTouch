!function(a,b){"use strict";function c(a){return b.lowercase(a.nodeName||a[0]&&a[0].nodeName)}function d(a,b){f.directive(a,["$parse","$swipe",function(c,d){return function(e,f,g){var h=c(g[a]),i={};i[b]=function(a,b){h(e,{$event:b||a})},d.bind(f,i,{$scope:e})}}])}function e(a,b,c){f.directive(a,["$parse","$swipe",function(d,e){var f=75,g=.3,h=30;return function(i,j,k){function l(a){if(!m)return!1;var c=Math.abs(a.y-m.y),d=(a.x-m.x)*b;return n&&f>c&&d>0&&d>h&&g>c/d}var m,n,o=d(k[a]);e.bind(j,{start:function(a,b){m=a,n=!0},cancel:function(a){n=!1},end:function(a,b){l(a)&&i.$apply(function(){j.triggerHandler(c),o(i,{$event:b})})}})}}])}var f=b.module("ngTouch",[]);f.provider("$swipe",[function(){function d(a){return a=a.originalEvent||a,a=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],a[0]}function e(a){var b=d(a);return{x:b.clientX,y:b.clientY}}function f(a,b,c){var d=a[q][b];d&&(a[K]&&a[L]?a[K].$apply(function(){d.apply(a,c)}):d.apply(a,c))}function g(a){a=d(a);var b=a.target||a.srcElement;return 3===b.nodeType&&(b=b.parentNode),b}function h(a){var b=this;b[p]=a[p],b[q]=a[q],b[i]=a[i]||Q[i],b[j]=a[j]||Q[j],b[k]=a[k]||Q[k],b[l]=a[l]||Q[l],b[n]=a[n]||Q[n],b[o]=a[o]||Q[o],b[m]=a[m]||Q[m],b[K]=a[K],b[L]=a[L]||!0,b[M]=a[M]||!0,b[N]=a[N]||!0,b[r]=!1,b[s]=null,b[t]=null,b[u]=null,b[v]=null,b[w]=!1,b[x]=!1,b[y]=0,b[z]=0,b[A]=0,b[B]=0,b[C]=0,b[D]=null,b[E]=null}var i="tapDuration",j="moveTolerance",k="preventDuration",l="moveBufferRadius",m="clickbusterThreshold",n="preventMouseFromTouch",o="preventMoveFromDrag",p="element",q="eventHandlers",r="hasTouchEvents",s="lastStartEvent",t="lastMoveEvent",u="lastEndEvent",v="lastCancelEvent",w="tapping",x="dragging",y="startTime",z="touchStartX",A="touchStartY",B="totalX",C="totalY",D="startCoords",E="lastPos",F="resetState",G="handleStart",H="handleEnd",I="handleCancel",J="handleMove",K="$scope",L="callApply",M="callDestroy",N="blurGhostClickElement",O="unbind",P="$swiperId",Q=this;Q[i]=750,Q[j]=12,Q[k]=2500,Q[m]=25,Q[l]=10,Q[n]=!0,Q[o]=!0;var R="ng-click-active",S=h.prototype;S[F]=function(){this[w]=!1,this[x]=!1,this[p].removeClass(R)},S[G]=function(a){var b=this;b[s]=a,b[w]=!0,b[p].addClass(R),b[y]=Date.now();var c=d(a);b[z]=c.clientX,b[A]=c.clientY,b[x]=!0,b[B]=0,b[C]=0,b[E]=b[D]=e(c),f(b,"start",[b[D],a])},S[J]=function(a){var b=this,c=e(a);if(b[x]){if(b[B]+=Math.abs(c.x-b[E].x),b[C]+=Math.abs(c.y-b[E].y),b[E]=c,b[B]<b[l]&&b[C]<b[l])return;b[C]>b[B]?b[I](a):(a.preventDefault(),f(b,"drag",[c,a]))}b[o]&&b[x]||f(b,"move",[c,a])},S[H]=function(a){var b=this;b[u]=a;var c=Date.now()-b[y],g=d(a),h=g.clientX,k=g.clientY,l=Math.sqrt(Math.pow(h-b[z],2)+Math.pow(k-b[A],2)),m=e(g);b[w]&&c<b[i]&&l<b[j]&&f(b,"tap",[m,a]),f(b,"end",[m,a]),b[F]()},S[I]=function(a){var b=this;b[v]=a,f(b,"cancel",[a]),b[F]()},S[O]=function(){},Q.$get=["$rootElement","$timeout",function(d,f){function i(a){console.log("general handler",a)}function j(a){function b(){for(var b=0;b<w.length;b++)if(w[b]===a){w.splice(b,1);break}}r&&a[n]&&(w.push(a),f(b,a[k]))}function l(a){var b=null,d=null,f=e(a);if(!(f.x<1&&f.y<1||z&&z[0]===f.x&&z[1]===f.y)){z="label"===c(event.target)?[f.x,f.y]:null;a:for(var h=0;h<w.length;h++){b=w[h];for(var i=0;i<x.length;i++)if(d=b[x[i]]){var j=e(d);if(Math.abs(j.x-f.x)<b[m]&&Math.abs(j.y-f.y)<b[m]){if(a.preventDefault(),a.stopPropagation(),b[N]){var k=g(a);k.blur&&k.blur()}break a}}}}}function o(a,c,d){function e(a){j(r),r[G](a)}function f(a){j(r),r[J](a)}function g(a){j(r),r[H](a)}function i(a){j(r),r[I](a)}function k(a){r[G](a)}function l(a){r[J](a)}function m(a){r[H](a)}d instanceof Object||(d={});var n=d.$scope;if(a[P]){var o=A[a[P]];return o[q]=b.extend(o[q],c),o}d[p]=b.element(a),d[q]=c;var r=new h(d);return a.on("touchstart",e),a.on("touchmove",f),a.on("touchend",g),a.on("touchcancel",i),a.on("mousedown",k),a.on("mousemove",l),a.on("mouseup",m),r[O]=function(){a.off("touchstart",e),a.off("touchmove",f),a.off("touchend",g),a.off("touchcancel",i),a.off("mousedown",k),a.off("mousemove",l),a.off("mouseup",m),a[P]&&delete A[a[P]],a=null,r=null},n&&r[M]&&(a[P]=B++,A[a[P]]=r,n.$on("$destroy",r[O])),r}var r=!!("ontouchstart"in a||a.DocumentTouch&&document instanceof DocumentTouch),w=[],x=[s,t,u,v],y=d[0],z=null;y.addEventListener("mouseup",i,!1),r&&(y.addEventListener("touchend",i,!1),y.addEventListener("mousedown",l,!0),y.addEventListener("mouseup",l,!0),y.addEventListener("click",l,!0));var A={},B=1;return{bind:o}}]}]),f.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),d("ngClick","tap"),d("ngTap","tap"),d("ngTouchStart","start"),d("ngTouchDrag","drag"),d("ngTouchMove","move"),d("ngTouchEnd","end"),d("ngTouchCancel","cancel"),e("ngSwipeLeft",-1,"swipeleft"),e("ngSwipeRight",1,"swiperight")}(window,window.angular);