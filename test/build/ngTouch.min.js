"use strict";function nodeName_(a){return angular.lowercase(a.nodeName||a[0]&&a[0].nodeName)}function makeSwipeDirective(a,b,c){ngTouch.directive(a,["$parse","$swipe",function(d,e){var f=75,g=.3,h=30;return function(i,j,k){function l(a){if(!m)return!1;var c=Math.abs(a.y-m.y),d=(a.x-m.x)*b;return n&&f>c&&d>0&&d>h&&g>c/d}var m,n,o=d(k[a]),p=["touch"];angular.isDefined(k.ngSwipeDisableMouse)||p.push("mouse"),e.bind(j,{start:function(a,b){m=a,n=!0},cancel:function(a){n=!1},end:function(a,b){l(a)&&i.$apply(function(){j.triggerHandler(c),o(i,{$event:b})})}},p)}}])}var ngTouch=angular.module("ngTouch",[]);ngTouch.provider("$swipe",[function(){function a(a){return a=a.originalEvent||a,a=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],a[0]}function b(b){var c=a(b);return{x:c.clientX,y:c.clientY}}function c(a,b){for(var c=a[l],d=0;d<b.length;d++)if(b[d]in c)return!0;return!1}function d(a){var b=this;a instanceof Object||(a={}),b[k]=a[k],b[l]=a[l],b[e]=a[e]||F[e],b[f]=a[f]||F[f],b[g]=a[g]||F[g],b[h]=a[h]||F[h],b[i]=a[i]||F[i],b[j]=a[j]||F[j],b[m]=!1,b[n]=null,b[o]=null,b[p]=null,b[q]=null,b[r]=!1,b[s]=!1,b[t]=0,b[u]=0,b[v]=0,b[w]=0,b[x]=0,b[y]=null,b[z]=null}var e="tapDuration",f="moveTolerance",g="preventDuration",h="moveBufferRadius",i="preventMouseFromTouch",j="preventMoveFromDrag",k="element",l="eventHandlers",m="hasTouchEvents",n="lastStartEvent",o="lastMoveEvent",p="lastEndEvent",q="lastCancelEvent",r="tapping",s="dragging",t="startTime",u="touchStartX",v="touchStartY",w="totalX",x="totalY",y="startCoords",z="lastPos",A="resetState",B="handleStart",C="handleEnd",D="handleCancel",E="handleMove",F=this;F[e]=750,F[f]=12,F[g]=2500,F[h]=10,F[i]=!0,F[j]=!0;var G="ng-click-active",H=d.prototype;H[A]=function(){this[r]=!1,this[s]=!1,this[k].removeClass(G)},H[B]=function(c){var d=this;d[n]=c,d[r]=!0,d[k].addClass(G),d[t]=Date.now();var e=a(c);d[u]=e.clientX,d[v]=e.clientY,d[s]=!0,d[w]=0,d[x]=0,d[z]=d[y]=b(e),d[l].start&&d[l].start(d[y],c)},H[E]=function(a){var c=this,d=b(a);if(c[s]){if(c[w]+=Math.abs(d.x-c[z].x),c[x]+=Math.abs(d.y-c[z].y),c[z]=d,c[w]<c[h]&&c[x]<c[h])return;c[x]>c[w]?c[D](a):(a.preventDefault(),c[l].drag&&c[l].drag(d,a))}c[j]&&c[s]||c[l].move&&c[l].move(d,a)},H[C]=function(c){var d=this;d[p]=c;var g=Date.now()-d[t],h=a(c),i=h.clientX,j=h.clientY,k=Math.sqrt(Math.pow(i-d[u],2)+Math.pow(j-d[v],2)),m=b(h);d[r]&&g<d[e]&&k<d[f]&&d[l].tap&&d[l].tap(m,c),d[l].end&&d[l].end(m,c),d[A]()},H[D]=function(a){var b=this;b[q]=a,b[l].cancel&&b[l].cancel(a),b[A]()},this.$get=["$rootElement","$timeout",function(a,e){function f(a){function b(){for(var b=0;b<s.length;b++)if(s[b]===a){s.splice(b,1);break}}s.push(a),e(b,a[g])}function h(a){for(var c=null,d=!1,e=0;e<s.length;e++)if(c=s[e],c[i]){for(var f=0;f<t.length;f++){var g=b(a),h=b(c[t[f]]);if(h.x===g.x&&h.y===g.y){a.preventDefault(),a.stopPropagation(),d=!0;break}}if(d)break}}function j(a,b,e){function g(a){q[m]=!0,f(q),q[B](a)}function h(a){q[m]=!0,f(q),q[E](a)}function i(a){q[m]=!0,f(q),q[C](a)}function j(a){q[m]=!0,f(q),q[D](a)}function n(a){q[B](a)}function o(a){q[E](a)}function p(a){q[C](a)}e instanceof Object||(e={}),e[k]=a,e[l]=b;var q=new d(e);return c(q,["start","tap","drag"])&&a.on("touchstart",g),c(q,["drag"])&&a.on("touchmove",h),c(q,["end","tap","drag"])&&a.on("touchend",i),c(q,["cancel"])&&a.on("touchcancel",j),c(q,["start","tap","drag"])&&a.on("mousedown",n),c(q,["move","drag"])&&a.on("mousemove",o),c(q,["end","tap","drag"])&&a.on("mouseup",p),q}function r(){}var s=[],t=[n,o,p,q],u=a[0];return u.addEventListener("mousedown",h,!0),u.addEventListener("mousemove",h,!0),u.addEventListener("mouseup",h,!0),u.addEventListener("click",h,!0),{bind:j,on:j,off:r}}]}]),ngTouch.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),ngTouch.directive("ngClick",["$parse","$swipe",function(a,b){return function(c,d,e){var f=a(e.ngClick);b.bind(d,{tap:function(a,b){c.$apply(function(){f(c,{$event:b})})}})}}]),makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight");